<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	
	<a4j:form ajaxSubmit="true" reRender="homePageMainBodyInclude" id="createProjectMemberForm">
		<s:validateAll>
		
	        <div>
			<h:panelGrid columns="3" rowClasses="prop" columnClasses="name,value,errorMessage">
			<!-- 
			17th January
			The user's name is no longer required. There could be several users with the same name,
			so specifying it here doesn't make sense (and currently the back end code doesn't use it except
			for messages anyway). Only the email address is unique and should be used.
			Currently commented out - to be removed after a few weeks when I can guarantee this is definitely the case. 
	                    <h:outputLabel for="firstName">First Name</h:outputLabel>
	                    <h:inputText id="firstName" 
	                              value="#{usersHome.instance.firstName}" required="false" itemDisabled="true"/>
	                     <rich:message for="firstName" style="width : 184px;" />
	                     
	                    <h:outputLabel for="lastName">Last Name</h:outputLabel>
	                    <h:inputText id="lastName" 
	                                value="#{usersHome.instance.lastName}" required="false" itemDisabled="true"/>	                     
						<rich:message for="lastName" style="width : 184px;" />
			-->
						
						<h:outputLabel for="email">Email</h:outputLabel>
	                    <h:inputText id="email" 
	                                value="#{usersHome.instance.email}" required="true"/>	                     
						<rich:message for="email" style="width : 184px;" />
						
						<h:outputLabel for="memberRole">Role</h:outputLabel>
						<h:selectOneMenu  id="memberRole"  required="true" value="#{userProjectHome.instance.userRole}" 
			            	style="width:184px;">
			            	<!-- Note that the following items are defined in SystemVars.UserRoles -->
			            	<f:selectItem id="memberRole_item1" itemLabel="Project Administrator" 
							itemValue="Project Administrator"/>
							<f:selectItem id="memberRole_item2" itemLabel="Contributor" 
							itemValue="Contributor"/>
							<f:selectItem id="memberRole_item3" itemLabel="Viewer" 
							itemValue="Viewer"/>
							<f:selectItem id="memberRole_item4" itemLabel="Someone Else" 
							itemValue="Someone" itemDisabled="true"/>
			            </h:selectOneMenu>                   
						<rich:message for="memberRole" style="width : 184px;" />
	                    
	                </h:panelGrid>
	            </div>       

				<div class="actionButtons">
										
					<a4j:commandButton id="createProjectMemberCancelButton" value="Cancel" style="float:left">
			    	 <rich:componentControl for="addProjectMemberPanel" attachTo="createProjectMemberCancelButton" operation="hide" event="onclick"/>
			    </a4j:commandButton>
			    
			    <a4j:commandButton id="createProjectMemberButton" value="Add New Member" action="#{createController.createProjectMember}" 
				    onclick="this.disabled=true" status="submitStatus"
					reRender="addProjectMemberFormInclude, homeMainPanel" style="float:right">
			    </a4j:commandButton>
			    
			    <a4j:region>
					<a4j:status id="submitStatus">
						<f:facet name="start">
							<h:graphicImage value="/img/wait.gif" height="28px" width="28px"
								style="float:right" />
						</f:facet>
					</a4j:status>
				</a4j:region>
				</div>
	
	       
	    </s:validateAll>
    </a4j:form>
	
</ui:composition>