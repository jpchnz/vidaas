<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	
	<a4j:form ajaxSubmit="true" reRender="homePageMainBodyInclude" id="createProjectMemberForm">
		<s:validateAll>

			<div>
				<h:panelGrid columns="3" rowClasses="prop"
					columnClasses="name,value,errorMessage">
					<h:outputLabel for="firstName">First Name</h:outputLabel>
					<h:inputText id="firstName" value="#{usersHome.instance.firstName}"
						required="true" />
					<rich:message for="firstName" style="width : 184px;" />

					<h:outputLabel for="lastName">Last Name</h:outputLabel>
					<h:inputText id="lastName" value="#{usersHome.instance.lastName}"
						required="true" />
					<rich:message for="lastName" style="width : 184px;" />

					<h:outputLabel for="email">
						<a class="tooltip" href="#">Email<span class="custom help">
								<img src="images/Help.png" alt="Help" height="48" width="48" />
								<em>#{helpController.getHelpTitle('AddNewMembersPopup_Email')}</em>
								#{helpController.setupHelpText('AddNewMembersPopup_Email')}
							</span></a></h:outputLabel>
	                    <h:inputText id="email" 
	                                value="#{usersHome.instance.email}" required="true"/>	                     
						<rich:message for="email" style="width : 184px;" />
						
						<h:outputLabel for="memberRole">
							<a class="tooltip" href="#">Role<span class="custom help">
								<img src="images/Help.png" alt="Help" height="48" width="48" /><em>#{helpController.getHelpTitle('AddNewMembersPopup_Role')}</em>#{helpController.setupHelpText('AddNewMembersPopup_Role')}
							</span></a>
						</h:outputLabel>
						<h:selectOneMenu  id="memberRole"  required="true" value="#{userProjectHome.instance.userRole}" 
			            	style="width:184px;">
			            	<f:selectItem id="memberRole_item1" itemLabel="Project administrator" 
							itemValue="admin"/>
							<f:selectItem id="memberRole_item2" itemLabel="Contributor" 
							itemValue="researcher"/>
							<f:selectItem id="memberRole_item3" itemLabel="Viewer" 
							itemValue="user"/>
			            </h:selectOneMenu>                   
						<rich:message for="memberRole" style="width : 184px;" />
	                    
	                </h:panelGrid>
	            </div>       
						</span></a>
					</h:outputLabel>
					<h:inputText id="email" value="#{usersHome.instance.email}"
						required="true" />
					<rich:message for="email" style="width : 184px;" />


					<h:outputLabel for="memberRole">
						<a class="tooltip" href="#">Role<span class="custom help">
								<img src="images/Help.png" alt="Help" height="48" width="48" />
								<em>#{helpController.getHelpTitle('AddNewMembersPopup_Role')}</em>
								#{helpController.setupHelpText('AddNewMembersPopup_Role')}
						</span></a>
					</h:outputLabel>
					<h:selectOneMenu value="#{createController.requiredRole}">
						<f:selectItems value="#{navigationController.rolesListMap}" />
					</h:selectOneMenu>
					<rich:message for="memberRole" style="width : 184px;" />




				</h:panelGrid>
			</div>

			<div class="actionButtons">

				<a4j:commandButton id="createProjectMemberCancelButton"
					value="Cancel" style="float:left">
					<rich:componentControl for="addProjectMemberPanel"
						attachTo="createProjectMemberCancelButton" operation="hide"
						event="onclick" />
				</a4j:commandButton>

				<a4j:commandButton id="createProjectMemberButton"
					value="Add New Member"
					action="#{createController.createProjectMember}"
					onclick="this.disabled=true" status="submitStatus"
					reRender="addProjectMemberFormInclude, homeMainPanel"
					style="float:right">
				</a4j:commandButton>

				<div class="actionButtons">
										
					<a4j:commandButton id="createProjectMemberCancelButton" value="Cancel" style="float:left">
			    	 <rich:componentControl for="addProjectMemberPanel" attachTo="createProjectMemberCancelButton" operation="hide" event="onclick"/>
			    </a4j:commandButton>
			    
			    <a4j:commandButton id="createProjectMemberButton" value="Add New Member" action="#{createController.createProjectMember}" 
				    onclick="this.disabled=true" status="submitStatus"
					reRender="addProjectMemberFormInclude, homeMainPanel" style="float:right">
			    </a4j:commandButton>
			    
			    <a4j:region>
					<a4j:status id="submitStatus">
						<f:facet name="start">
							<h:graphicImage value="/img/wait.gif" height="28px" width="28px"
								style="float:right" />
						</f:facet>
					</a4j:status>
				</a4j:region>
			</div>


		</s:validateAll>
	</a4j:form>

</ui:composition>